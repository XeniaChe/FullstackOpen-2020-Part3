(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{17:function(e,t,n){e.exports=n(41)},22:function(e,t,n){},23:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),u=n(15),r=n.n(u),o=(n(22),n(16)),l=n(2),i=(n(23),function(e){return c.a.createElement("div",null,"filter shown with: ",c.a.createElement("input",{onChange:e.onInput}))}),s=function(e){return c.a.createElement("form",{onSubmit:e.submit},c.a.createElement("div",null,"name: ",c.a.createElement("input",{onChange:e.inputName})),c.a.createElement("div",null,"number: ",c.a.createElement("input",{onChange:e.inputNumber})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"add")))},m=function(e){var t=e.message,n=e.style;return null===t?null:c.a.createElement("div",{className:n},t)},f=function(e){var t=e.namesToShow,n=e.deleteNumber,a=e.message,u="success"===e.actionResult?"success":"error",r=null;return t&&(r=c.a.createElement("ul",null,t.map((function(e){return c.a.createElement("li",{key:e.name},e.name," : ",e.number,c.a.createElement("button",{onClick:function(){return n(e.id)}},"delete"))})))),c.a.createElement(c.a.Fragment,null,c.a.createElement(m,{message:a,style:u}),r)},d=n(4),h=n.n(d),b="http://localhost:3001/api/persons",p=function(){return h.a.get(b).then((function(e){return e.data})).catch((function(e){return console.log(e.message)}))},E=function(e){return h.a.post(b,e).then((function(e){return e.data}))},v=function(e){return h.a.delete("".concat(b,"/").concat(e))},g=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],u=t[1],r=Object(a.useState)(""),m=Object(l.a)(r,2),d=m[0],h=m[1],b=Object(a.useState)(""),g=Object(l.a)(b,2),w=g[0],j=g[1],O=Object(a.useState)([]),S=Object(l.a)(O,2),k=S[0],y=S[1],N=Object(a.useState)(null),C=Object(l.a)(N,2),I=C[0],T=C[1],B=Object(a.useState)(""),J=Object(l.a)(B,2),R=J[0],W=J[1];Object(a.useEffect)((function(){p().then((function(e){u(e)}))}),[]);var x=function(e,t){T(e),W(t),setTimeout((function(){T(null)}),2e3)},D=k.length>=1?k:n;return c.a.createElement("div",null,c.a.createElement("h2",null,"Phonebook"),c.a.createElement(i,{onInput:function(e){var t=e.target.value,a=n.filter((function(e){return e.name.toLowerCase()===t}));y(a)}}),c.a.createElement("h2",null,"add new"),c.a.createElement(s,{submit:function(e){e.preventDefault();var t={name:d,number:w};n.map((function(e){return e.name})).includes(d);E(t).then((function(e){var t=n.concat(e);u(t),x(" person '".concat(e.name,"' successfully added"),"success")})).catch((function(e){return x("an ".concat(e," occured"),"fail")}))},inputName:function(e){var t=e.target.value;h(t)},inputNumber:function(e){var t=e.target.value;j(t)}}),c.a.createElement("h2",null,"Numbers"),c.a.createElement(f,{namesToShow:D,deleteNumber:function(e){var t=Object(o.a)(n).filter((function(t){return t.id!==e}));v(e).then((function(n){u(t),x("contact with id number ".concat(e," deleted "),"success")})).catch((function(t){x("contact with id number ".concat(e," has already been deleted "),"fail")}))},message:I,actionResult:R}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.d48362ca.chunk.js.map